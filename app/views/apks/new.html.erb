<% if !@apk.errors.empty? %>
    <div class = "alert alert-error">
      <ul>
        <% @apk.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
<% end %>

<div class = "well">
  <%= form_for @test do |f| %>
      <div class="form-group">
        <%= f.label :uid, 'User ID' %>
        <%= f.text_field :uid %>
      </div>
      <div class="form-group">
        <%= f.label :isp, 'ISP' %>
        <%= f.text_field :isp %>
      </div>
      <div class="form-group radio-btn">
        <%= f.label :has_gfw, 'Bypass GFW in the test?' %>
        <label>
          <%= f.radio_button :has_gfw, 'false' %>
          No
        </label>
        <label>
          <%= f.radio_button :has_gfw, 'true' %>
          Yes
        </label>
      </div>
      <div class="form-group">
        <%= f.label :download_time, 'Download Time' %>
        <%= f.text_field :download_time, :readonly => true, :value => 'Auto Filled' %>
      </div>
      <div class="form-group">
        <%= f.label :upload_time, 'Upload Time' %>
        <%= f.text_field :upload_time, :readonly => true, :value => 'Auto Filled' %>
      </div>
      <div class="form-group">
        <%= f.label :apk_id, 'APK ID' %>
        <%= f.text_field :apk_id, :readonly => true, :value => 'Auto Filled' %>
      </div>
      <%= f.submit "Auto Test", class: "btn btn-primary", id: 'test-btn' %>
  <% end %>
</div>
<div class = "well hide">
  <%= form_for @apk, html: { multipart: true } do |f| %>
      <div class="form-group">
        <%= f.label :file %>
        <%= f.file_field :file %>
      </div>
      <%= f.submit "Upload", class: "btn btn-primary" %>
  <% end %>
</div>
